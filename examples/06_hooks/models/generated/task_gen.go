// Code generated by sqlcli. DO NOT EDIT.
// Version: v1.0.0

package generated

import (
	"github.com/arllen133/sqlc"
	"github.com/arllen133/sqlc/clause"
	"github.com/arllen133/sqlc/field"

	"github.com/arllen133/sqlc/examples/06_hooks/models"
)

func init() {
	sqlc.RegisterSchema(&Task)
}

// Task Schema:
type taskSchema struct {
	ID        field.Number[int64]
	Title     field.String
	CreatedAt field.Time
	Status    field.String
}

var _ sqlc.Schema[models.Task] = (*taskSchema)(nil)

var Task = taskSchema{
	ID:        field.Number[int64]{}.WithColumn("id"),
	Title:     field.String{}.WithColumn("title"),
	CreatedAt: field.Time{}.WithColumn("created_at"),
	Status:    field.String{}.WithColumn("status"),
}

func (s *taskSchema) TableName() string {
	return "tasks"
}

func (s *taskSchema) SelectColumns() []string {
	return []string{
		"id",
		"title",
		"created_at",
		"status",
	}
}

func (s *taskSchema) InsertRow(m *models.Task) ([]string, []any) {
	var cols []string
	var vals []any
	// AutoIncrement PK: include only if explicitly set (non-zero)
	if m.ID != 0 {
		cols = append(cols, "id")
		vals = append(vals, m.ID)
	}
	cols = append(cols, "title")
	vals = append(vals, m.Title)
	cols = append(cols, "created_at")
	vals = append(vals, m.CreatedAt)
	cols = append(cols, "status")
	vals = append(vals, m.Status)
	return cols, vals
}

func (s *taskSchema) UpdateMap(m *models.Task) map[string]any {
	res := make(map[string]any)
	res["title"] = m.Title
	res["created_at"] = m.CreatedAt
	res["status"] = m.Status
	return res
}

func (s *taskSchema) PK(m *models.Task) sqlc.PK {
	var val any
	if m != nil {
		val = m.ID
	}
	return sqlc.PK{
		Column: clause.Column{Name: "id"},
		Value:  val,
	}
}

func (s *taskSchema) SetPK(m *models.Task, val int64) {
	m.ID = val
}

func (s *taskSchema) AutoIncrement() bool {
	return true
}

func (s *taskSchema) SoftDeleteColumn() string {
	return ""
}

func (s *taskSchema) SoftDeleteValue() any {
	return nil
}

func (s *taskSchema) SetDeletedAt(m *models.Task) {
}
